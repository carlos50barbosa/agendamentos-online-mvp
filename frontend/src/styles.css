/* =======================
   Design Tokens — Tema CLARO
   ======================= */
:root{
  --bg:#f9fafb;            /* fundo geral cinza bem claro */
  --card-bg:#ffffff;       /* cartões brancos */
  --border:#e8e8ec;        /* borda suave */
  --text:#1f2937;          /* cinza-escuro legível */
  --muted:#6b7280;         /* texto secundário */
  --brand:#2563eb;         /* primária (azul suave) */
  --brand-100:#eef2ff;
  --brand-200:#c7d2fe;
  --hover:#f3f4f6;
  --radius:12px;
  --radius-sm:10px;
  --ring-shadow:0 0 0 3px rgba(37,99,235,.28);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}

/* =======================
   Utils / Layout
   ======================= */
.grid{ display:flex; flex-direction:column; gap:12px; }
.row{ display:flex; align-items:center; gap:8px; }
.row-wrap{ display:flex; flex-wrap:wrap; gap:8px; }
.spread{ justify-content:space-between; }
.muted{ color:var(--muted); }
.small{ font-size:12px; }

/* Cards / Boxes */
.card{
  background:var(--card-bg);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:12px;
}
.box{
  background:#fff;
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:8px;
}
.box--highlight{ background:#fcfcff; border-color:#e9edff; }
.empty{ color:var(--muted); padding:12px; border:1px dashed var(--border); border-radius:var(--radius-sm); text-align:center; }

/* =======================
   Inputs / Selects / Switch
   ======================= */
.label{ display:flex; flex-direction:column; gap:4px; }
.label>span{ font-size:12px; color:var(--muted); }
.input,
.label select,
.label input[type="date"]{
  height:40px; padding:0 10px;
  background:#fff; color:var(--text);
  border:1px solid var(--border); border-radius:10px;
  outline:none;
  transition:border .18s ease, box-shadow .18s ease;
}
.input:focus,
.label select:focus,
.label input[type="date"]:focus{ border-color:var(--brand); box-shadow:var(--ring-shadow); }

/* Switch (label.switch > input[type=checkbox] + span) */
.switch input{ display:none; }
.switch input + span{
  position:relative; padding-left:28px; cursor:pointer; font-size:14px; color:var(--text);
}
.switch input + span:before{
  content:""; width:22px; height:14px; border-radius:999px;
  background:#e5e7eb; position:absolute; left:0; top:3px;
}
.switch input + span:after{
  content:""; width:12px; height:12px; border-radius:50%; background:#fff;
  box-shadow:0 0 0 1px #d1d5db; position:absolute; left:1px; top:4px;
  transition:transform .15s ease;
}
.switch input:checked + span:before{ background:var(--brand-200); }
.switch input:checked + span:after{ transform:translateX(8px); }

/* =======================
   Buttons
   ======================= */
.btn{
  border:1px solid var(--border);
  background:#fff; color:var(--text);
  border-radius:10px; padding:8px 12px; height:auto;
  cursor:pointer; transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.btn:hover{ transform:translateY(-1px); box-shadow:0 6px 18px rgba(0,0,0,.06); }
.btn:focus-visible{ outline:none; box-shadow:var(--ring-shadow); }
.btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; box-shadow:none; }
.btn--sm{ padding:6px 10px; font-size:12px; }
.btn--primary{ background:var(--brand); border-color:var(--brand); color:#fff; }
.btn--outline{ background:#fff; }

/* Segmented (tabs simples) */
.segmented{ display:inline-flex; background:#f3f4f6; border-radius:10px; padding:2px; }
.segmented__btn{ border:0; background:transparent; padding:6px 10px; border-radius:8px; font-size:12px; cursor:pointer; }
.segmented__btn.is-active{ background:#fff; box-shadow:0 0 0 1px var(--border); }

/* Chips */
.chip{ border:1px solid var(--border); background:#fff; padding:4px 8px; border-radius:999px; font-size:12px; cursor:pointer; }
.chip--active{ background:var(--brand-100); border-color:var(--brand-200); }

/* =======================
   Toast
   ======================= */
.toast{
  position:fixed; right:12px; bottom:12px; z-index:50;
  background:#fff; border:1px solid var(--border);
  border-radius:10px; padding:10px 12px;
  box-shadow:0 6px 20px rgba(0,0,0,.06);
  display:flex; align-items:center; gap:8px;
}
.toast .toast-icon{ margin-right:4px; }
.toast .toast-close{ border:0; background:transparent; font-size:18px; cursor:pointer; }

/* =======================
   Modal
   ======================= */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(17,24,39,.35);
  display:flex; align-items:center; justify-content:center; z-index:60;
}
.modal{
  background:#fff; border:1px solid var(--border); border-radius:12px;
  padding:16px; width:min(560px,95vw);
  box-shadow:0 10px 30px rgba(0,0,0,.12);
}

/* =======================
   Mini Cards (Estabelecimentos/Serviços)
   ======================= */
.mini-card{
  display:block;
  min-width:220px; max-width:320px; flex:1 1 220px;
  border:1px solid var(--border); border-radius:12px;
  padding:10px; background:#fff; cursor:pointer;
  transition:background .12s ease, box-shadow .12s ease;
}
.mini-card:hover{ background:var(--hover); }
.mini-card--selected{ outline:2px solid var(--brand); }
.mini-card__title{ font-weight:600; font-size:14px; margin-bottom:4px; }
.mini-card__meta{ display:flex; gap:8px; color:var(--muted); font-size:12px; }

/* =======================
   Sumário sticky
   ======================= */
.sticky-bar{
  position:sticky; top:8px; z-index:2;
  display:flex; gap:12px; align-items:center; margin-top:8px;
}

/* ===== Novo Agendamento — UX enxuta ===== */
.filters > summary{
  cursor: pointer;
  display: inline-flex; align-items: center; gap: 6px;
  padding: 6px 10px; border: 1px solid var(--border);
  border-radius: 10px; background: #fff; user-select: none;
}
.filters[open] > summary{ background: var(--brand-100); box-shadow: 0 0 0 1px var(--brand-200) inset; }
.filters__content{ margin-top: 8px; display: flex; flex-direction: column; gap: 8px; }
.appointment-summary{ display: flex; align-items: center; gap: 6px; font-size: 14px; }

/* =======================
   Calendário — desktop grid / mobile carrossel
   ======================= */
.calendar{ margin-top:8px; overflow-x:auto; }
.calendar__inner{
  display:grid; gap:8px;
  grid-template-columns:repeat(7, minmax(160px, 1fr));
}
/* Muda para carrossel abaixo da largura mínima necessária para 7 colunas de 160px + gaps (~1168px) */
@media (max-width: 1180px){
  .calendar__inner{
    display:flex; gap:8px; overflow-x:auto; padding-bottom:4px;
    scroll-snap-type:x mandatory;
  }
  .calendar__inner > .day-col{ min-width:68%; scroll-snap-align:start; }
}
@media (max-width:600px){
  .calendar__inner > .day-col{ min-width:86%; }
}

.day-col{
  background:#fff; border:1px solid var(--border); border-radius:10px;
}
.day-col__header{
  padding:6px 8px; border-bottom:1px solid var(--border);
  background:#fff; border-top-left-radius:10px; border-top-right-radius:10px;
}
.day-col__header.is-today{ background:#f8fbff; outline:1px solid #dbeafe; }
.day-col__title{ font-size:13px; font-weight:600; }
.day-col__slots{ padding:8px; }

/* Links padrão */
a, a:visited { color: var(--text); text-decoration: none; opacity: .9; }
a:hover { opacity: 1; text-decoration: underline; }

/* Header / Nav simples */
.header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 0; margin-bottom: 10px;
}
.nav { display: flex; gap: 16px; align-items: center; }
.nav a { padding: 6px 8px; border-radius: 8px; }
.nav a.active { background: rgba(59,130,246,.15); border: 1px solid var(--primary); }
.nav .logout { margin-left: 8px; }

/* =======================
   User menu (header)
   ======================= */
.userbox{ position:relative; }
.userbtn{
  display:flex; align-items:center; gap:8px;
  border:1px solid var(--border); background:#fff; color:var(--text);
  border-radius:999px; padding:6px 10px; cursor:pointer;
}
.userbtn:hover{ background:var(--hover); }
.userbtn__icon{ opacity:.85; color: var(--muted); }
.userbtn__name{ font-size:14px; max-width:180px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.userbtn__caret{ opacity:.7; color: var(--muted); }

.usermenu{
  position:absolute; right:0; top:calc(100% + 6px); z-index:40;
  min-width:220px; background:#fff; border:1px solid var(--border);
  border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.12);
  padding:6px; display:flex; flex-direction:column; gap:2px;
}
.usermenu.usermenu--left{ right: auto; left: 0; }
.usermenu__item{
  display:flex; align-items:center; gap:10px;
  border:0; background:transparent; color:inherit;
  text-align:left; padding:8px 10px; border-radius:8px; cursor:pointer;
}
.usermenu__item:hover{ background:var(--hover); text-decoration:none; }
.usermenu__item--danger{ color:#b91c1c; }
.usermenu__icon{ width:18px; text-align:center; opacity:.9; color: var(--muted); }

/* Ícones padrão (quando usados dentro de .toast, .userbtn, .usermenu, etc.) */
.toast .toast-icon{ color: var(--muted); }


/* Slots — grid compacto / lista confortável */
.slots--grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(56px, 1fr));
  gap:6px; align-content:start;
}
.slots--list{ display:flex; flex-direction:column; gap:8px; }

/* Botões de slot */
.slot-btn{
  border:1px solid var(--border);
  background:#fff; color:var(--text);
  border-radius:8px; cursor:pointer;
  transition:transform .06s ease, box-shadow .06s ease, background .1s ease;
}
.slot-btn--compact{ padding:4px 6px; font-size:12px; line-height:1.1; }
.slot-btn--comfortable{ padding:8px 10px; font-size:14px; }
/* Estilo forte para agendados (vermelho claro) */
.calendar .slot-btn.busy{
  background:#fee2e2;   /* vermelho claro */
  border-color:#fecaca;
  color:#991b1b;
  border-style:solid;
}
.slot-btn.busy:hover{ transform:none; box-shadow:none; }
.slot-btn.busy:disabled{ cursor:not-allowed; }
.slot-btn.block{ background:#f8f8f8; color:#aaa; border-style:dotted; }
.slot-btn.is-selected{ outline:2px solid var(--brand); outline-offset:0; }
.slot-btn.is-past{ opacity:.5; }
.slot-btn:not(:disabled):hover{ transform:translateY(-1px); }

/* Placeholder mínimo para “Sem horários” */
.empty-dot{ width:8px; height:8px; border-radius:50%; background:#e5e7eb; margin:6px auto; }

/* =======================
   Mensagens / Skeleton
   ======================= */
.error{ background:#fff5f5; border-color:#ffe1e1; }
.shimmer.pill{
  height:22px; border-radius:999px;
  background:linear-gradient(90deg,#eee,#f6f6f6,#eee);
  background-size:200% 100%; animation:shimmer 1.1s infinite;
}
@keyframes shimmer{ 0%{background-position:-200px 0} 100%{background-position:200px 0} }

/* =======================
   Acessibilidade
   ======================= */
button:focus-visible, a:focus-visible, select:focus-visible, input:focus-visible{
  outline:none; box-shadow:var(--ring-shadow);
}

/* =======================
   DashboardCliente — Meus Agendamentos
   ======================= */

/* Título + espaçamento enxuto */
.card > h2{
  margin: 0 0 8px 0;
  font-size: 18px;
}

/* Tabela “clean”: cabeçalho claro, linhas com zebra e hover suave */
.card > table{
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden; /* arredonda bordas da tabela */
}

.card > table thead th{
  background: #f9fafb;
  color: var(--muted);
  font-weight: 600;
  font-size: 12px;
  text-align: left;
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  white-space: nowrap;
}

.card > table tbody td{
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  vertical-align: middle;
}

.card > table tbody tr:nth-child(odd){
  background: #fcfcff; /* zebra sutil */
}

.card > table tbody tr:hover{
  background: var(--hover);
}

/* Coluna de ações enxuta */
.card > table th:last-child,
.card > table td:last-child{
  width: 1%;
  white-space: nowrap;
}

/* Badges de status (usando as classes existentes do componente) */
.badge{
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 12px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  line-height: 1;
}
.badge.ok{
  background: #ecfdf5;     /* verde bem claro */
  border-color: #a7f3d0;
  color: #065f46;
}
.badge.out{
  background: #fef2f2;     /* vermelho bem claro */
  border-color: #fecaca;
  color: #991b1b;
}
/* Se quiser exibir “pendente” no futuro */
.badge.pending{
  background: #fffbeb;
  border-color: #fde68a;
  color: #92400e;
}

/* Botão de cancelar: aceita .danger (do seu JSX) e também a convenção .btn--danger */
button.danger,
.btn--danger{
  border: 1px solid #fecaca;
  background: #fee2e2;
  color: #b91c1c;
  border-radius: 10px;
  padding: 6px 10px;
  font-size: 12px;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
button.danger:hover,
.btn--danger:hover{
  background: #fecaca;
  transform: translateY(-1px);
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
}
button.danger:focus-visible,
.btn--danger:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(239,68,68,.25); /* ring vermelho */
}
button.danger:disabled,
.btn--danger:disabled{
  opacity: .6; cursor: not-allowed; transform: none; box-shadow: none;
}

/* Ícone opcional no badge (bolinha de status) — use se quiser: <span class="badge ok"><i class="dot"></i>confirmado</span> */
.badge .dot{
  width: 8px; height: 8px; border-radius: 50%;
  display: inline-block;
  background: currentColor;
  opacity: .9;
}

/* Responsividade:
   - Em telas pequenas, habilita scroll horizontal suave na tabela.
   - Mantém tipografia legível e evita “quebrar” a linha de data/hora. */
@media (max-width: 760px){
  /* Elimina scroll lateral: tabela ocupa 100% e quebra conteúdo */
  .card{ overflow-x: hidden; }
  .card > table{
    display: table;
    width: 100%;
    table-layout: auto; /* deixa o navegador ajustar colunas */
  }
  /* Reduz paddings e permite quebra por padrão */
  .card > table thead th,
  .card > table tbody td{ padding: 8px 8px; white-space: normal; }
  /* Mantém "Quando" estreito e em uma linha */
  .card > table thead th:nth-child(2),
  .card > table tbody td:nth-child(2){ white-space: nowrap; }
  /* Status: badge em uma linha */
  .card > table thead th:nth-child(3),
  .card > table tbody td:nth-child(3){ white-space: nowrap; }
  /* Ações: permitir encolher; remove width forçada e deixa quebrar se necessário */
  .card > table th:last-child,
  .card > table td:last-child{ width: auto; white-space: normal; }
  .card > table td:first-child{ word-break: break-word; }
  /* Botão de cancelar compacto */
  .card > table td:last-child .btn{ padding: 4px 8px; font-size: 12px; }
}
/* ===== DashboardCliente — largura reduzida no desktop ===== */
.dashboard-narrow{
  width: 100%;
  margin: 0 auto;
  padding: 0 12px;            /* respiro lateral */
  max-width: 920px;           /* largura-alvo (desktop) */
}

/* em telas grandes você pode estreitar um pouco mais, se quiser */
@media (min-width: 1440px){
  .dashboard-narrow{ max-width: 1200px; }
}

/* mobile continua fluido (já é 100%) */

/* ===== Header melhorado ===== */
.app-header{
  position: sticky; top: 0; z-index: 40;
  background: rgba(255,255,255,.92);
  backdrop-filter: saturate(160%) blur(8px);
  border-bottom: 1px solid var(--border);
}
.app-header.is-scrolled{
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
}
.app-header__inner{
  max-width: 1100px;  /* ajuste se quiser ainda mais estreito */
  margin: 0 auto;
  padding: 10px 12px;
  display: flex; align-items: center; justify-content: space-between; gap: 10px;
}

/* Marca */
.brand{
  display: flex; align-items: center; gap: 10px;
  color: var(--text); text-decoration: none;
}
.brand__logo{
  width: 28px; height: 28px; border-radius: 8px;
  background: var(--brand); color: #fff; font-weight: 700; font-size: 12px;
  display: grid; place-items: center;
  box-shadow: 0 4px 10px rgba(37,99,235,.25);
}
.brand__text strong{ display:block; font-size: 16px; line-height: 1; }
.brand__text small{ display:block; font-size: 11px; color: var(--muted); margin-top: 2px; }

/* Navegação */
.mainnav{
  display: flex; align-items: center; gap: 10px;
}
.mainnav a{
  padding: 8px 10px; border-radius: 8px;
  text-decoration: none; color: var(--text);
}
.mainnav a.active{
  background: var(--brand-100);
  box-shadow: 0 0 0 1px var(--brand-200) inset;
}
.header-cta{ margin-left: 6px; }

/* Hamburguer (mobile) */
.hamburger{
  display: none;
  width: 38px; height: 38px; border-radius: 10px;
  border: 1px solid var(--border); background: #fff;
  align-items: center; justify-content: center; cursor: pointer;
}
.hamburger span{
  width: 18px; height: 2px; background: #334155; position: relative; display: block;
}
.hamburger span::before,
.hamburger span::after{
  content: ""; position: absolute; left: 0; right: 0; height: 2px; background: #334155;
}
.hamburger span::before{ top: -6px; }
.hamburger span::after{ top: 6px; }

/* Mobile menu */
@media (max-width: 780px){
  .hamburger{ display: flex; }
  .app-header__inner{ position: relative; }
  .mainnav{
    position: absolute; left: 0; right: 0; top: 100%;
    background: #fff; border-bottom: 1px solid var(--border);
    padding: 8px 12px; display: none; flex-direction: column; gap: 6px;
  }
  .mainnav.is-open{ display: flex; }
  .header-cta{ width: 100%; text-align: center; }
}

/* Container padrão da app (se ainda não tiver) */
.container{
  max-width: 1100px;
  margin: 12px auto;
  padding: 0 12px;
}

/* =======================
   Layout com barra lateral esquerda
   ======================= */
.app-shell{
  display: grid;
  grid-template-columns: 260px 1fr;
  min-height: 100dvh;      /* deixa crescer além do viewport quando necessário */
}
.app-shell.is-collapsed{ grid-template-columns: 0 1fr; }
.sidebar{
  position: sticky; top: 0; align-self: stretch;
  height: 100%; max-height: 100%; overflow-y: auto;
  background: #E0E7EF;
  border-right: 1px solid var(--border);
  display: flex; flex-direction: column;
  transform: translateX(0); transition: transform .18s ease;
}
.sidebar__inner{
  display: flex; flex-direction: column; gap: 12px; align-items: stretch;
  padding: 12px; height: 100%;
  justify-content: flex-start; /* agrupado, sem espaço exagerado */
}
.app-shell.is-collapsed .sidebar{ transform: translateX(-100%); }
.mainnav--vertical{ display: flex; flex-direction: column; gap: 8px; flex: 0 0 auto; align-items: stretch; }
.app-main{ background: var(--bg); min-width: 0; }

/* Toggle da sidebar */
.sidebar-toggle{
  position: fixed; top: 50%; left: 12px; z-index: 70;
  width: 36px; height: 36px; border-radius: 999px;
  border: 1px solid var(--border); background: #fff; cursor: pointer;
  display: grid; place-items: center; color: var(--muted);
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  transform: translateY(-50%);
}
.app-shell.sidebar-open .sidebar-toggle{ left: 268px; }
.sidebar-toggle__icon{ width: 18px; height: 18px; }

/* Overlay para mobile quando sidebar aberta */
.sidebar-overlay{ display: none; }

/* Bloco do perfil no topo da sidebar */
.profilebox{
  display:flex; align-items:center; gap:10px;
  border:1px solid var(--border); background:#fff; border-radius:12px;
  padding:10px;
}
.profilebox__icon{ color: var(--muted); }
.profilebox__name{ font-weight:600; font-size:14px; }
.profilebox__sub{ color: var(--muted); font-size:12px; display:none; }

/* Lista lateral de navegação */
.sidelist{ display:flex; flex-direction:column; gap:10px; }
.sidelist__item{
  display:flex; align-items:center; gap:10px;
  padding:8px 10px; border-radius:8px; border:0; background:transparent;
  color:inherit; text-decoration:none; cursor:pointer; text-align:left;
  width: 100%;
}
.sidelist__section{ display:flex; flex-direction:column; gap:4px; }
.sidelist__heading{ font-size:11px; text-transform:uppercase; letter-spacing:.04em; color:var(--muted); padding:2px 6px; }
.sidelist__item:hover{ background: var(--hover); }
.sidelist__item.active{ background: var(--brand-100); box-shadow:0 0 0 1px var(--brand-200) inset; }
.sidelist__item--danger{ color:#b91c1c; }
.sidelist__icon{ width:18px; text-align:center; color: var(--muted); }

/* Em telas pequenas, a sidebar vira topo (stack) */
@media (max-width: 780px){
  .app-shell{ grid-template-columns: 1fr; }
  /* Garante que todos os filhos da grid ocupem a mesma coluna, evitando criação de colunas implícitas */
  .app-shell > .sidebar,
  .app-shell > .sidebar-toggle,
  .app-shell > .sidebar-overlay,
  .app-shell > .app-main{ grid-column: 1 / -1; }
  .sidebar{
    position: fixed; left: 0; top: 0; z-index: 60;
    width: 260px; height: 100dvh; border-right: 1px solid var(--border);
  }
  .app-shell.sidebar-open .sidebar-overlay{
    display: block; position: fixed; inset: 0; z-index: 55; background: rgba(0,0,0,.25);
  }
  .sidebar-toggle{ left: 12px; top: 50%; transform: translateY(-50%); }
  .app-shell.sidebar-open .sidebar-toggle{ left: 268px; } /* junto da borda da sidebar */
  .app-main{ min-height: 100dvh; }
  /* Sidebar: garantir navegação no topo */
  .sidebar__inner{ display:flex; flex-direction: column; justify-content: flex-start; align-items: stretch; padding: 12px; height: 100dvh; overflow-y:auto; }
  .brand{ display:flex; align-items:center; gap:10px; flex: 0 0 auto; }
  .mainnav--vertical{ display:flex; flex-direction: column; gap: 8px; margin-top: 8px; flex: 0 0 auto; }
  .profilebox{ margin: 10px 0; min-height: 56px; flex: 0 0 auto; }
  .sidelist{ display:flex; flex-direction: column; gap:10px; flex: 0 0 auto; }
  /* Topbar compacto e em linha */
  .app-topbar__inner{ flex-direction: row; align-items: baseline; gap: 8px; }
}

/* Topbar simples no conteúdo */
.app-topbar{
  position: sticky; top: 0; z-index: 30;
  background: rgba(255,255,255,.92); backdrop-filter: saturate(160%) blur(8px);
  border-bottom: 1px solid var(--border);
}
.app-topbar__inner{
  max-width: 1100px; margin: 0 auto; padding: 10px 12px;
  display: flex; flex-direction: column; line-height: 1.1;
}
.app-topbar__inner strong{ font-size: 16px; }
.app-topbar__inner small{ font-size: 11px; color: var(--muted); }

@media (max-width: 780px){
  .app-topbar__inner{ padding: 10px 16px; }
  .container{ margin-top: 8px; }
}

/* =======================
   Mobile: barra inferior (somente ícones)
   ======================= */
@media (max-width: 780px){
  /* Evita overflow horizontal no mobile */
  html, body, #root{ width: 100%; max-width: 100%; overflow-x: hidden; }
  .app-shell, .app-main, .container, .app-topbar, .app-topbar__inner, .app-header, .app-header__inner, .dashboard-narrow{
    width: 100%; max-width: 100%; overflow-x: hidden;
  }
  .app-shell, .app-main, .container{ min-width: 0; }
  .dashboard-narrow{ min-width: 0; }

  /* Sidebar vira uma barra fixa no rodapé */
  .sidebar{
    position: fixed; left: 0; right: 0; bottom: 0; top: auto;
    width: 100%; height: 64px;
    border-right: 0; border-top: 1px solid var(--border);
    background: #fff; z-index: 60;
    transform: none; overflow: visible;
  }
  /* Garante que a navegação da sidebar apareça no mobile (sobrepõe regras do header) */
  .sidebar .mainnav{
    display: flex !important;
    position: static;
    left: auto; right: auto; top: auto;
    background: transparent; border: 0; padding: 0;
    gap: 8px;
  }
  /* Organiza conteúdo horizontalmente */
  .sidebar__inner{
    height: 100%; padding: 6px 10px;
    display: flex; flex-direction: row; align-items: center; justify-content: space-around;
    gap: 0; overflow: visible; /* evita clipar ícones */
  }
  /* Esconde elementos não essenciais na barra */
  .brand,
  .profilebox,
  .sidelist__heading{ display: none !important; }
  /* Navegação vira horizontal */
  .mainnav--vertical{ flex-direction: row; align-items: center; width: 100%; }
  .sidelist{ flex-direction: row; gap: 8px; align-items: center; width: 100%; justify-content: space-around; }
  .sidelist__section{ display: flex; flex-direction: row; gap: 8px; }
  .sidelist__item{
    width: auto; padding: 6px; border-radius: 10px;
    display: inline-flex; align-items: center; justify-content: center;
    min-width: 44px; min-height: 44px; /* alvo de toque acessível */
  }
  .sidelist__item{ color: var(--text) !important; }
  /* Mostra só o ícone */
  .sidelist__item > span{ display: none; }
  .sidelist__icon{ width: 24px; height: 24px; display: block; color: var(--text); flex-shrink: 0; stroke: currentColor; stroke-width: 2.2; }
  .sidelist__item svg{ display: block; }
  /* Esconde controles do drawer no mobile */
  .sidebar-toggle,
  .sidebar-overlay{ display: none !important; }
  /* Garante que a barra inferior não suma com .is-collapsed */
  .app-shell.is-collapsed .sidebar{ transform: none; }
  /* Reserva espaço para a barra não cobrir o conteúdo */
  .app-main{ padding-bottom: 72px; }
}
