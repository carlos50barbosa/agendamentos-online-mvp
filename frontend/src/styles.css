/* =======================
   Design Tokens — Tema CLARO
   ======================= */


:root{
  color-scheme: light;
  --bg: #f0f4f8;
  --surface: #ffffff;
  --surface-soft: #f6f8fc;
  --card-bg: #ffffff;
  --card: #ffffff;
  --card-2: #f8fafc;
  --border: #e2e8f0;
  --shadow: 0 18px 38px rgba(15, 23, 42, 0.08);
  --shadow-soft: 0 12px 28px rgba(15, 23, 42, 0.05);
  --text: #1f2937;
  --muted: #6b7280;
  --text-on-brand: #ffffff;
  --brand: #6366f1;
  --brand-100: #eef2ff;
  --brand-200: #c7d2fe;
  --primary: #6366f1;
  --primary-600: #4f46e5;
  --hover: #f1f5f9;
  --radius: 12px;
  --radius-sm: 10px;
  --ring: 0 0 0 1px rgba(99, 102, 241, 0.55);
  --ring-shadow: 0 0 0 3px rgba(99, 102, 241, 0.25);
  --transition: .18s cubic-bezier(.2,.8,.2,1);
  --topbar-h: 60px;
  --topbar-bg: rgba(255,255,255,.92);
  --topbar-border: var(--brand-200);
  --topbar-shadow: 0 8px 24px rgba(99, 102, 241, 0.12);

  --danger-bg: #fef2f2;
  --danger-border: #fee2e2;
  --danger-text: #b91c1c;

  --warning-bg: #fffbeb;
  --warning-border: #fef3c7;
  --warning-text: #92400e;

  --success-bg: #ecfdf5;
  --success-border: #bbf7d0;
  --success-text: #047857;

  --info-bg: #eff6ff;
  --info-border: #bfdbfe;
  --info-text: #1e3a8a;

  --blocked-bg: #fff7ed;
  --blocked-fg: #9a3412;

  --chat-panel-bg: #ffffff;
  --chat-panel-border: rgba(148, 163, 184, 0.28);
  --chat-panel-shadow: 0 24px 40px rgba(15, 23, 42, 0.12);
  --chat-panel-shadow-soft: 0 16px 32px rgba(15, 23, 42, 0.08);
  --chat-header-bg: #f1f5f9;
  --chat-header-fg: #0f172a;
  --chat-bot-bg: #f8fafc;
  --chat-warn-bg: #fef3c7;
  --chat-warn-text: #b45309;
  --chat-border: rgba(148, 163, 184, 0.36);
  --chat-primary-bg: #6366f1;
  --chat-primary-hover: #4f46e5;
  --chat-muted-bg: #e2e8f0;
  --chat-muted-text: #475569;
  --chat-fab-bg: #1f2937;
  --chat-fab-hover: #111827;
  --chat-fab-color: #f8fafc;
  --chat-fab-shadow: 0 16px 34px rgba(15, 23, 42, 0.32);
  --auth-bg:
    radial-gradient(900px 480px at -10% -10%, rgba(99, 102, 241, 0.12), transparent 60%),
    radial-gradient(720px 380px at 110% 0%, rgba(99, 102, 241, 0.10), transparent 60%),
    linear-gradient(#f6f8fb, #eef2f7);
  --auth-card-shadow: 0 14px 40px rgba(15, 23, 42, 0.14);
  --auth-illus-shadow: 0 8px 24px rgba(99, 102, 241, 0.18);
}



:root[data-theme="dark"]{
  color-scheme: dark;
  --bg: #0f172a;
  --surface: #111c2e;
  --surface-soft: #16223c;
  --card-bg: #17233a;
  --card: #17233a;
  --card-2: #101a29;
  --border: rgba(148, 163, 184, 0.35);
  --shadow: 0 28px 60px rgba(2, 6, 23, 0.72);
  --shadow-soft: 0 18px 48px rgba(2, 6, 23, 0.5);
  --text: #e2e8f0;
  --muted: #94a3b8;
  --text-on-brand: #ffffff;
  --brand: #818cf8;
  --brand-100: rgba(129, 140, 248, 0.22);
  --brand-200: rgba(129, 140, 248, 0.4);
  --primary: #818cf8;
  --primary-600: #6366f1;
  --hover: rgba(148, 163, 184, 0.18);
  --ring: 0 0 0 1px rgba(129, 140, 248, 0.5);
  --ring-shadow: 0 0 0 3px rgba(129, 140, 248, 0.36);
  --topbar-bg: rgba(15, 23, 42, 0.82);
  --topbar-border: rgba(129, 140, 248, 0.32);
  --topbar-shadow: 0 18px 36px rgba(2, 6, 23, 0.55);

  --danger-bg: rgba(248, 113, 113, 0.18);
  --danger-border: rgba(248, 113, 113, 0.36);
  --danger-text: #fca5a5;

  --warning-bg: rgba(250, 204, 21, 0.18);
  --warning-border: rgba(250, 204, 21, 0.36);
  --warning-text: #fde68a;

  --success-bg: rgba(34, 197, 94, 0.18);
  --success-border: rgba(34, 197, 94, 0.34);
  --success-text: #86efac;

  --info-bg: rgba(96, 165, 250, 0.16);
  --info-border: rgba(96, 165, 250, 0.38);
  --info-text: #bfdbfe;

  --blocked-bg: rgba(148, 163, 184, 0.16);
  --blocked-fg: #f8fafc;

  --chat-panel-bg: #0f172a;
  --chat-panel-border: rgba(51, 65, 85, 0.6);
  --chat-panel-shadow: 0 30px 48px rgba(2, 6, 23, 0.72);
  --chat-panel-shadow-soft: 0 22px 38px rgba(2, 6, 23, 0.52);
  --chat-header-bg: rgba(15, 23, 42, 0.82);
  --chat-header-fg: #e2e8f0;
  --chat-bot-bg: rgba(30, 41, 59, 0.82);
  --chat-warn-bg: rgba(251, 191, 36, 0.16);
  --chat-warn-text: #fde68a;
  --chat-border: rgba(148, 163, 184, 0.36);
  --chat-primary-bg: #6366f1;
  --chat-primary-hover: #4f46e5;
  --chat-muted-bg: rgba(71, 85, 105, 0.48);
  --chat-muted-text: #cbd5f5;
  --chat-fab-bg: rgba(99, 102, 241, 0.32);
  --chat-fab-hover: rgba(99, 102, 241, 0.48);
  --chat-fab-color: #e0e7ff;
  --chat-fab-shadow: 0 30px 44px rgba(2, 6, 23, 0.65);
  --auth-bg:
    radial-gradient(900px 480px at -10% -10%, rgba(129, 140, 248, 0.24), transparent 60%),
    radial-gradient(720px 380px at 110% 0%, rgba(99, 102, 241, 0.20), transparent 60%),
    linear-gradient(#0b1220, #101a29);
  --auth-card-shadow: 0 24px 60px rgba(2, 6, 23, 0.72);
  --auth-illus-shadow: 0 18px 38px rgba(2, 6, 23, 0.55);
}


*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  font-family:'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}

/* =======================
   Utils / Layout
   ======================= */
.grid{ display:flex; flex-direction:column; gap:12px; }
.row{ display:flex; align-items:center; gap:8px; }
.row-wrap{ display:flex; flex-wrap:wrap; gap:4px; }
.spread{ justify-content:space-between; }
.muted{ color:var(--muted); }
.small{ font-size:12px; }

/* Nome abreviado/compacto com reticências se exceder largura */
.name-short{ display:inline-block; max-width: 18ch; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; vertical-align: bottom; }
@media (max-width: 780px){ .name-short{ max-width: 14ch; } }

/* Cards / Boxes */
.card{
  background:var(--card-bg);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:12px;
}
.box{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:8px;
}
.box--highlight{ background:var(--surface-soft); border-color:var(--brand-200); }
.empty{ color:var(--muted); padding:12px; border:1px dashed var(--border); border-radius:var(--radius-sm); text-align:center; }

/* =======================
   Inputs / Selects / Switch
   ======================= */
.label{ display:flex; flex-direction:column; gap:4px; }
.label>span{ font-size:12px; color:var(--muted); }
.input,
.label select,
.label input[type="date"]{
  height:40px; padding:0 10px;
  background:var(--surface); color:var(--text);
  border:1px solid var(--border); border-radius:10px;
  outline:none;
  transition:border .18s ease, box-shadow .18s ease;
}
.input:focus,
.label select:focus,
.label input[type="date"]:focus{ border-color:var(--brand); box-shadow:var(--ring-shadow); }

/* Switch (label.switch > input[type=checkbox] + span) */
.switch input{ display:none; }
.switch input + span{
  position:relative; padding-left:28px; cursor:pointer; font-size:14px; color:var(--text);
}
.switch input + span:before{
  content:""; width:22px; height:14px; border-radius:999px;
  background:var(--border); position:absolute; left:0; top:3px;
}
.switch input + span:after{
  content:""; width:12px; height:12px; border-radius:50%; background:var(--surface);
  box-shadow:0 0 0 1px #d1d5db; position:absolute; left:1px; top:4px;
  transition:transform .15s ease;
}
.switch input:checked + span:before{ background:var(--brand-200); }
.switch input:checked + span:after{ transform:translateX(8px); }

/* =======================
   Buttons
   ======================= */
.btn{
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  border:1px solid var(--border);
  background:var(--surface); color:var(--text);
  border-radius:10px; padding:8px 12px; height:auto;
  cursor:pointer; transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.btn:hover{ transform:translateY(-1px); box-shadow:0 6px 18px rgba(0,0,0,.06); }
.btn:focus-visible{ outline:none; box-shadow:var(--ring-shadow); }
.btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; box-shadow:none; }
.btn--sm{ padding:6px 10px; font-size:12px; }
.btn--primary{ background:var(--brand); border-color:var(--brand); color:#fff; }
.btn--outline{ background:var(--surface); }
.btn--lg{ height:48px; padding:0 16px; font-size:14px; }
.btn--block{ display:flex; width:100%; }
.btn__icon{ width:18px; height:18px; }

/* Segmented (tabs simples) */
.segmented{ display:inline-flex; background:var(--surface-soft); border-radius:10px; padding:2px; }
.segmented__btn{ border:0; background:transparent; padding:6px 10px; border-radius:8px; font-size:12px; cursor:pointer; }
.segmented__btn.is-active{ background:var(--surface); box-shadow:0 0 0 1px var(--border); }

/* Chips */
.chip{ border:1px solid var(--border); background:var(--surface); padding:4px 8px; border-radius:999px; font-size:12px; cursor:pointer; }
.chip--active{ background:var(--brand-100); border-color:var(--brand-200); }

/* =======================
   Toast
   ======================= */
.toast{
  position:fixed; right:12px; bottom:12px; z-index:50;
  background:var(--surface); border:1px solid var(--border);
  border-radius:10px; padding:10px 12px;
  box-shadow:0 6px 20px rgba(0,0,0,.06);
  display:flex; align-items:center; gap:8px;
}
.toast .toast-icon{ margin-right:4px; }
.toast .toast-close{ border:0; background:transparent; font-size:18px; cursor:pointer; }

/* =======================
   Modal
   ======================= */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(17,24,39,.35);
  display:flex; align-items:center; justify-content:center; z-index:10000; /* acima do chatbox (999) */
}
.modal{
  background:var(--surface); border:1px solid var(--border); border-radius:12px;
  padding:16px; width:min(560px,95vw);
  box-shadow:0 10px 30px rgba(0,0,0,.12);
}

/* =======================
   Spinner (usado em botões e na splash)
   ======================= */
.spinner{
  width: 18px; height: 18px; border: 2px solid rgba(0,0,0,.15);
  border-top-color: var(--brand); border-radius: 50%; display: inline-block;
  animation: spin .8s linear infinite; vertical-align: middle;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* =======================
   Mini Cards (Estabelecimentos/Serviços)
   ======================= */
.mini-card{
  display:block;
  min-width:220px; max-width:320px; flex:1 1 220px;
  border:1px solid var(--border); border-radius:12px;
  padding:10px; background:var(--surface); cursor:pointer;
  transition:background .12s ease, box-shadow .12s ease, transform .12s ease;
}
.mini-card:hover{ background:var(--hover); transform: translateY(-2px); box-shadow: 0 10px 26px rgba(0,0,0,.08); }
.mini-card--selected{ outline:2px solid var(--brand); }
.mini-card__title{ font-weight:600; font-size:14px; margin-bottom:4px; }
.mini-card__meta{ display:flex; gap:8px; color:var(--muted); font-size:12px; }

/* =======================
   Sumário sticky
   ======================= */
.sticky-bar{
  position:sticky; top:8px; z-index:2;
  display:flex; gap:12px; align-items:center; margin-top:8px;
}

/* ===== Novo Agendamento — UX enxuta ===== */
.filters > summary{
  cursor: pointer;
  display: inline-flex; align-items: center; gap: 6px;
  padding: 6px 10px; border: 1px solid var(--border);
  border-radius: 10px; background: var(--surface); user-select: none;
}
.filters[open] > summary{ background: var(--brand-100); box-shadow: 0 0 0 1px var(--brand-200) inset; }
.filters__content{ margin-top: 8px; display: flex; flex-direction: column; gap: 8px; }
.appointment-summary{ display: flex; align-items: center; gap: 6px; font-size: 14px; }

/* =======================
   Calendário — desktop grid / mobile carrossel
   ======================= */
.calendar{ margin-top:8px; overflow-x:auto; }
.calendar__inner{
  display:grid; gap:8px;
  grid-template-columns:repeat(7, minmax(160px, 1fr));
}
/* Muda para carrossel abaixo da largura mínima necessária para 7 colunas de 160px + gaps (~1168px) */
@media (max-width: 1180px){
  .calendar__inner{
    display:flex; gap:8px; overflow-x:auto; padding-bottom:4px;
    scroll-snap-type:x mandatory;
  }
  .calendar__inner > .day-col{ min-width:68%; scroll-snap-align:start; }
}
@media (max-width:600px){
  .calendar__inner > .day-col{ min-width:86%; }
}

.day-col{
  background:var(--surface); border:1px solid var(--border); border-radius:10px;
}
.day-col__header{
  padding:6px 8px; border-bottom:1px solid var(--border);
  background:var(--surface); border-top-left-radius:10px; border-top-right-radius:10px;
}
.day-col__header.is-today{ background:var(--brand-100); outline:1px solid var(--brand-200); }
.day-col__title{ font-size:13px; font-weight:600; }
.day-col__slots{ padding:8px; }

/* Links padrão */
a, a:visited { color: var(--text); text-decoration: none; opacity: .9; }
a:hover { opacity: 1; text-decoration: underline; }

/* =======================
   Calendário Mensal (novo)
   ======================= */
.month__grid{
  display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px;
}
.month__dow{ text-align: center; font-size: 11px; }
.month__day{
  height: 38px; border: 1px solid var(--border); border-radius: 8px;
  background: var(--surface); cursor: pointer; display: grid; place-items: center;
  transition: transform .08s ease, box-shadow .12s ease, background .12s ease;
}
.month__day.is-dim{ opacity: .45; }
.month__day.is-today{ position: relative; font-weight: 600; background: var(--brand-100); border-color: var(--brand-200); outline: 2px solid var(--brand-200); }
.month__day.is-today::after{
  content:""; position:absolute; bottom:6px; width:6px; height:6px; border-radius:50%; background: var(--brand);
}
.month__day.is-selected{ background: var(--brand-100); box-shadow: 0 0 0 1px var(--brand-200) inset; }
.month__day:not(.is-dim):hover{ transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.08); }
.month__day:not(.is-dim):active{ transform: translateY(0); box-shadow: 0 2px 8px rgba(0,0,0,.06); }
.month__day:focus-visible{ outline: none; box-shadow: var(--ring-shadow); }

/* =======================
   Pricing (Planos)
   ======================= */
.pricing-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:6px; }
.pricing-card{
  background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:10px;
}
.pricing-card.is-featured{ outline:2px solid var(--brand); box-shadow:0 12px 30px rgba(92,92,204,.15); }
.pricing-header{ display:flex; flex-direction:column; gap:2px; }
.pricing-title{ font-weight:700; font-size:16px; }
.price{ display:flex; align-items:baseline; gap:4px; }
.price .currency{ opacity:.7; }
.price .amount{ font-size:28px; font-weight:800; letter-spacing:-.02em; }
.price .period{ font-size:12px; color: var(--muted); }
.features{ list-style:none; padding:0; margin:0; display:grid; gap:6px; }

/* =======================
   Auth (Login/Cadastro)
   ======================= */
.auth{
  display:grid; place-items:center; min-height: 92dvh;
  padding: 24px 12px;
  background: var(--auth-bg);
}
.auth-wrap{ width:min(640px, 92vw); display:grid; gap:14px; }
.auth-hero{ display:flex; align-items:center; gap:12px; }
.auth-hero .brand__logo{ width:48px; height:48px; }
.auth-hero h2{ margin:0; font-size:22px; }
.auth-hero small{ color:var(--muted); }
.auth-card{ padding:20px; border-radius: 14px; box-shadow: var(--auth-card-shadow); }
.auth-actions{ display:flex; justify-content:flex-end; gap:8px; }
.auth-alt{ text-align:center; color:var(--muted); }

/* Inputs e botões mais confortáveis nas telas de auth */
.auth-card .input{ width: 100%; height: 44px; font-size: 14px; }
.auth-card .btn{ height: 44px; padding: 0 14px; }
.auth-card .btn.btn--sm{ height: 36px; }
.auth-card form{ width: 100%; }
/* Links em telas de auth: não afeta botões estilizados como links */
.auth a:not(.btn){ color: var(--brand); font-weight: 600; }
/* Garantir contraste correto em botões primários dentro de .auth */
.auth a.btn.btn--primary{ color: #fff; }

/* Botão link para ações secundárias (ex.: Esqueci minha senha) */
.btn--link{
  background: transparent; border: 0; padding: 0; height: auto;
  color: var(--brand); font-weight: 600; cursor: pointer;
}
.btn--link:hover{ text-decoration: underline; }

/* Ilustração simples no topo do card */
.auth-illus{
  width: 60px; height: 60px; border-radius: 14px;
  background: linear-gradient(180deg, var(--brand-100), var(--surface));
  border: 1px solid var(--brand-200);
  display: grid; place-items: center; margin: 0 auto 6px auto;
  box-shadow: var(--auth-illus-shadow);
  color: var(--brand);
}
.auth-illus svg{ width: 28px; height: 28px; }

/* =======================
   Relatorios
   ======================= */
.report-page{display:flex;flex-direction:column;gap:12px;}
.report-card{display:flex;flex-direction:column;gap:16px;--report-confirm:var(--brand);--report-cancel:var(--danger-text);}
.report-header{display:flex;flex-direction:column;gap:12px;align-items:flex-start;}
.report-title{display:flex;align-items:center;gap:8px;}
.report-title__icon{width:24px;height:24px;color:var(--brand);}
.report-heading{margin:0;font-size:20px;}
.report-filters{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;gap:8px;}
.report-filters .input{min-width:140px;}
.report-filters__separator{font-size:12px;white-space:nowrap;}
.report-summary{font-size:12px;color:var(--muted);}
.report-alert{margin-top:12px;}
.report-refresh{white-space:nowrap;}
.report-skeleton{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;margin-top:16px;}
.report-skeleton__item{height:72px;border-radius:12px;}
.report-metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin-top:16px;}
.report-metric{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:12px;display:flex;flex-direction:column;gap:6px;}
.report-metric__label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.04em;}
.report-metric__value{font-size:24px;font-weight:700;}
.report-metric__hint{font-size:12px;color:var(--muted);}
.report-section{display:flex;flex-direction:column;gap:12px;margin-top:20px;}
.report-section__header{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between;}
.report-section__header h3{margin:0;font-size:18px;}
.report-actions{display:flex;gap:8px;}
.report-chart{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px;display:flex;flex-direction:column;gap:12px;box-shadow:var(--shadow-soft);}
.report-chart__grid{display:flex;align-items:flex-end;gap:12px;overflow-x:auto;padding:0 4px 8px;position:relative;scroll-snap-type:x mandatory;scrollbar-color:var(--border) transparent;}
.report-chart__grid::after{content:"";position:absolute;left:4px;right:4px;bottom:0;height:1px;background:var(--border);opacity:.35;}
.report-chart__grid::-webkit-scrollbar{height:6px;}
.report-chart__grid::-webkit-scrollbar-thumb{background:var(--border);border-radius:6px;}
.report-chart__item{display:flex;flex-direction:column;align-items:center;gap:6px;min-width:56px;scroll-snap-align:end;}
.report-chart__item:focus-within .report-chart__stack,.report-chart__item:hover .report-chart__stack{border-color:var(--brand);box-shadow:0 0 0 1px var(--brand-200);}
.report-chart__stack{position:relative;width:100%;height:160px;display:flex;flex-direction:column;justify-content:flex-end;gap:4px;padding:8px 8px 10px;border-radius:var(--radius-sm);background:var(--surface-soft);border:1px solid var(--border);box-shadow:inset 0 -1px 0 rgba(15,23,42,.08);}
:root[data-theme="dark"] .report-chart__stack{box-shadow:inset 0 -1px 0 rgba(15,23,42,.32);}
.report-chart__stack::after{content:"";position:absolute;left:8px;right:8px;bottom:10px;height:1px;background:var(--border);opacity:.25;}
.report-chart__bar{width:100%;height:0;border-radius:6px;transition:height .24s ease,filter .24s ease;box-shadow:0 8px 14px rgba(15,23,42,.12);}
.report-chart__bar--confirmados{background:var(--report-confirm);}
.report-chart__bar--cancelados{background:var(--report-cancel);opacity:.95;}
.report-chart__item:hover .report-chart__bar{filter:brightness(1.08);}
.report-chart__label{font-size:11px;color:var(--muted);}
.report-chart__value{font-size:12px;font-weight:600;font-variant-numeric:tabular-nums;color:var(--text);}
.report-legend{display:flex;flex-wrap:wrap;gap:12px;font-size:12px;color:var(--muted);justify-content:center;}
.report-dot{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:6px;}
.report-dot--confirmados{background:var(--report-confirm);}
.report-dot--cancelados{background:var(--report-cancel);}
.report-table-wrapper{border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;background:var(--surface);box-shadow:var(--shadow-soft);}
.report-table{width:100%;border-collapse:separate;border-spacing:0;}
.report-table thead th{background:var(--surface-soft);color:var(--muted);font-size:12px;text-align:left;padding:10px 12px;}
.report-table tbody td{padding:10px 12px;border-top:1px solid var(--border);font-size:14px;}
.report-table tbody tr:nth-child(odd){background:var(--surface-soft);}
.report-empty{text-align:center;}

@media (max-width:600px){
  .report-chart{padding:12px;}
  .report-chart__grid{gap:10px;}
  .report-chart__stack{height:140px;}
  .report-metrics{grid-template-columns:repeat(auto-fit,minmax(160px,1fr));}
}

@media (min-width:768px){
  .report-header{flex-direction:row;align-items:center;justify-content:space-between;}
  .report-title__icon{width:28px;height:28px;}
}


/* Configuracoes */
.config-section__toggle{display:flex;align-items:center;justify-content:space-between;gap:8px;width:100%;padding:6px 8px;border:0;background:transparent;color:var(--text);font-size:16px;font-weight:600;border-radius:var(--radius-sm);cursor:pointer;transition:background .18s ease,color .18s ease;}
.config-section__toggle:hover,.config-section__toggle:focus-visible{background:var(--surface-soft);color:var(--brand);}
.config-section__toggle:focus-visible{outline:none;box-shadow:var(--ring-shadow);}
.config-section__icon{width:18px;height:18px;transition:transform .2s ease,color .2s ease;color:var(--muted);}
.config-section__toggle.is-open .config-section__icon{transform:rotate(90deg);color:var(--brand);}
.config-section__content{margin-top:12px;display:grid;gap:8px;}
/* Servicos Estabelecimento */
.service-status{ display:inline-flex; align-items:center; justify-content:center; min-width:72px; padding:4px 10px; font-weight:600; transition:filter .18s ease; }
.service-status:disabled{ opacity:.6; cursor:not-allowed; }
.service-status__header{ width:140px; text-align:left; padding-left:12px; }
.service-status-cell{ text-align:left; padding-left:12px; }
.service-actions__header{ width:240px; text-align:left; padding-left:12px; }
.service-actions{ display:flex; justify-content:flex-start; align-items:center; gap:8px; min-width:220px; padding-left:12px; }
.service-actions .btn{ display:inline-flex; align-items:center; justify-content:center; min-width:88px; padding:6px 10px; font-size:13px; }
@media (max-width:720px){
  .service-status__header{ width:auto; text-align:left; padding-left:12px; }
  .service-status-cell{ text-align:left; padding-left:12px; }
  .service-actions__header{ width:auto; text-align:left; }
  .service-actions{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:6px; width:100%; min-width:0; padding-left:0; }
  .service-actions .btn{ width:100%; min-width:0; padding:4px 10px; font-size:13px; }
  .service-status{ width:100%; justify-content:center; }
}





/* Divisor “ou” */
.divider{ position: relative; text-align: center; margin: 12px 0; }
.divider::before{ content: ""; position: absolute; left: 0; right: 0; top: 50%; height: 1px; background: var(--border); }
.divider > span{ position: relative; background: var(--surface); padding: 0 8px; color: var(--muted); font-size: 12px; }

/* Header / Nav simples */
.header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 0; margin-bottom: 10px;
}
.nav { display: flex; gap: 16px; align-items: center; }
.nav a { padding: 6px 8px; border-radius: 8px; }
.nav a.active { background: var(--brand-100); border: 1px solid var(--brand-200); }
.nav .logout { margin-left: 8px; }

/* =======================
   User menu (header)
   ======================= */
.userbox{ position:relative; }
.userbtn{
  display:flex; align-items:center; gap:8px;
  border:1px solid var(--border); background:var(--surface); color:var(--text);
  border-radius:999px; padding:6px 10px; cursor:pointer;
}
.userbtn:hover{ background:var(--hover); }
.userbtn__icon{ opacity:.85; color: var(--muted); }
.userbtn__name{ font-size:14px; max-width:180px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.userbtn__caret{ opacity:.7; color: var(--muted); }

.usermenu{
  position:absolute; right:0; top:calc(100% + 6px); z-index:40;
  min-width:220px; background:var(--surface); border:1px solid var(--border);
  border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.12);
  padding:6px; display:flex; flex-direction:column; gap:2px;
}
.usermenu.usermenu--left{ right: auto; left: 0; }
.usermenu__item{
  display:flex; align-items:center; gap:10px;
  border:0; background:transparent; color:inherit;
  text-align:left; padding:8px 10px; border-radius:8px; cursor:pointer;
}
.usermenu__item:hover{ background:var(--hover); text-decoration:none; }
.usermenu__item--danger{ color:#b91c1c; }
.usermenu__icon{ width:18px; text-align:center; opacity:.9; color: var(--muted); }

/* Ícones padrão (quando usados dentro de .toast, .userbtn, .usermenu, etc.) */
.toast .toast-icon{ color: var(--muted); }


/* Slots — grid compacto / lista confortável */
.slots--grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(56px, 1fr));
  gap:6px; align-content:start;
}
.slots--list{ display:flex; flex-direction:column; gap:8px; }

/* Botões de slot */
.slot-btn{
  border:1px solid var(--border);
  background:var(--surface); color:var(--text);
  border-radius:8px; cursor:pointer;
  transition:transform .06s ease, box-shadow .06s ease, background .1s ease;
}
.slot-btn--compact{ padding:4px 6px; font-size:12px; line-height:1.1; }
.slot-btn--comfortable{ padding:8px 10px; font-size:14px; }
/* Estilo forte para agendados (vermelho claro) */
.calendar .slot-btn.busy{
  background:var(--danger-bg);   /* vermelho claro */
  border-color:var(--danger-border);
  color:var(--danger-text);
  border-style:solid;
}
.slot-btn.busy:hover{ transform:none; box-shadow:none; }
.slot-btn.busy:disabled{ cursor:not-allowed; }
.slot-btn.block{ background:var(--surface-soft); color:var(--muted); border-style:dotted; }
.slot-btn.is-selected{ outline:2px solid var(--brand); outline-offset:0; }
.slot-btn.is-past{ opacity:.5; }
.slot-btn:not(:disabled):hover{ transform:translateY(-1px); }

/* Placeholder mínimo para “Sem horários” */
.empty-dot{ width:8px; height:8px; border-radius:50%; background:var(--border); margin:6px auto; }

/* =======================
   Mensagens / Skeleton
   ======================= */
.error{ background:var(--danger-bg); border-color:var(--danger-border); color:var(--danger-text); }
.shimmer.pill{
  height:22px; border-radius:999px;
  background:linear-gradient(90deg,#eee,#f6f6f6,#eee);
  background-size:200% 100%; animation:shimmer 1.1s infinite;
}
@keyframes shimmer{ 0%{background-position:-200px 0} 100%{background-position:200px 0} }

/* =======================
   Acessibilidade
   ======================= */
button:focus-visible, a:focus-visible, select:focus-visible, input:focus-visible{
  outline:none; box-shadow:var(--ring-shadow);
}

/* =======================
   Book (grayscale only)
   ======================= */
.book-theme{
  /* overrides de tema em tons de cinza */
  --bg:#f5f5f6;
  --card-bg:#ffffff;
  --border:#e3e3e6;
  --text:#1e1e20;
  --muted:#6b6b73;
  --brand:#3a3a3f;
  --brand-100:#f1f1f2;
  --brand-200:#ccccd1;
}
.book-theme .chatbtn{ background:#2f2f34; color:#fff; }
.book-theme .chatbtn:hover{ background:#3d3d42; }
.book-theme .chatbtn.chatbtn--muted{ background:#e6e6ea; color:#1e1e20; }
.book-theme .chatmsg--bot{ background:#efeff2; }
.book-theme .chip{ border-color:#d5d5da; }

/* =======================
   DashboardCliente — Meus Agendamentos
   ======================= */

/* Título + espaçamento enxuto */
.card > h2{
  margin: 0 0 8px 0;
  font-size: 18px;
}

/* Tabela “clean”: cabeçalho claro, linhas com zebra e hover suave */
.card > table{
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden; /* arredonda bordas da tabela */
}

.card > table thead th{
  background: var(--surface-soft);
  color: var(--muted);
  font-weight: 600;
  font-size: 12px;
  text-align: left;
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  white-space: nowrap;
}

.card > table tbody td{
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  vertical-align: middle;
}

.card > table tbody tr:nth-child(odd){
  background: var(--surface-soft); /* zebra sutil */
}

.card > table tbody tr:hover{
  background: var(--hover);
}

/* Coluna de ações enxuta */
.card > table th:last-child,
.card > table td:last-child{
  width: 1%;
  white-space: nowrap;
}

/* Badges de status (usando as classes existentes do componente) */
.badge{
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 12px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  line-height: 1;
}
.badge.ok{
  background: var(--success-bg);     /* verde */
  border-color: var(--success-border);
  color: var(--success-text);
}
.badge.out{
  background: var(--danger-bg);     /* perigo */
  border-color: var(--danger-border);
  color: var(--danger-text);
}
/* Se quiser exibir “pendente” no futuro */
.badge.pending{
  background: var(--warning-bg);
  border-color: var(--warning-border);
  color: var(--warning-text);
}
/* Concluído (azul) */
.badge.done{
  background: var(--info-bg);   /* informativo */
  border-color: var(--info-border);
  color: var(--info-text);
}

/* Badges de plano */
.badge--pro{
  background:var(--info-bg);
  border-color:var(--info-border);
  color:var(--info-text);
}
.badge--premium{
  background:var(--warning-bg);
  border-color:var(--warning-border);
  color:var(--warning-text);
}

/* Botão de cancelar: aceita .danger (do seu JSX) e também a convenção .btn--danger */
button.danger,
.btn--danger{
  border: 1px solid var(--danger-border);
  background: var(--danger-bg);
  color: var(--danger-text);
  border-radius: 10px;
  padding: 6px 10px;
  font-size: 12px;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
button.danger:hover,
.btn--danger:hover{
  background: var(--danger-border);
  transform: translateY(-1px);
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
}
button.danger:focus-visible,
.btn--danger:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(239,68,68,.25); /* ring vermelho */
}
button.danger:disabled,
.btn--danger:disabled{
  opacity: .6; cursor: not-allowed; transform: none; box-shadow: none;
}

/* Ícone opcional no badge (bolinha de status) — use se quiser: <span class="badge ok"><i class="dot"></i>confirmado</span> */
.badge .dot{
  width: 8px; height: 8px; border-radius: 50%;
  display: inline-block;
  background: currentColor;
  opacity: .9;
}

/* Responsividade:
   - Em telas pequenas, habilita scroll horizontal suave na tabela.
   - Mantém tipografia legível e evita “quebrar” a linha de data/hora. */
@media (max-width: 760px){
  /* Em telas estreitas: o card vira um contêiner rolável horizontalmente
     para evitar corte. A tabela mantém seu tamanho natural. */
  /* Permitir rolagem vertical dentro dos cards no mobile */
  .card{ overflow-x: auto; -webkit-overflow-scrolling: touch; touch-action: pan-x pan-y; overscroll-behavior-x: contain; }
  /* Deixe a largura da tabela ditada pelo conteúdo para garantir overflow */
  .card > table{ min-width: 520px; width: max-content; }

  /* Reduz paddings e permite quebra por padrão onde couber */
  .card > table thead th,
  .card > table tbody td{ padding: 8px 8px; white-space: normal; }
  /* Mantém "Quando" e "Status" em linha única para caber melhor */
  .card > table thead th:nth-child(2),
  .card > table tbody td:nth-child(2),
  .card > table thead th:nth-child(3),
  .card > table tbody td:nth-child(3){ white-space: nowrap; }
  /* Ações: permitir encolher; remove width forçada e deixa quebrar se necessário */
  .card > table th:last-child,
  .card > table td:last-child{ width: auto; white-space: normal; }
  .card > table td:first-child{ word-break: break-word; }
  /* Botão de cancelar ainda mais compacto no mobile */
  .card > table td:last-child .btn{ padding: 4px 8px; font-size: 12px; }
  /* Badges um pouco menores para caber melhor */
  .badge{ font-size: 11px; padding: 3px 8px; }
}

/* Telefones muito pequenos: se ainda houver corte, esconda apenas a coluna de ações,
   preservando informação principal (serviço, estabelecimento, data e status). */
@media (max-width: 360px){
  .card > table th:last-child,
  .card > table td:last-child{ display: none; }
}
/* ===== DashboardCliente — largura reduzida no desktop ===== */
.dashboard-narrow{
  width: 100%;
  margin: 0 auto;
  padding: 0 12px;            /* respiro lateral */
  max-width: 920px;           /* largura-alvo (desktop) */
  font-size: 14px;            /* tipografia mais compacta no dashboard */
}

/* em telas grandes você pode estreitar um pouco mais, se quiser */
@media (min-width: 1440px){
  .dashboard-narrow{ max-width: 1200px; }
}

/* mobile continua fluido (já é 100%) */

/* ===== Header melhorado ===== */
.app-header{
  position: sticky; top: 0; z-index: 40;
  background: rgba(255,255,255,.92);
  backdrop-filter: saturate(160%) blur(8px);
  border-bottom: 1px solid var(--border);
}
.app-header.is-scrolled{
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
}
.app-header__inner{
  max-width: 1100px;  /* ajuste se quiser ainda mais estreito */
  margin: 0 auto;
  padding: 10px 12px;
  display: flex; align-items: center; justify-content: space-between; gap: 10px;
}

/* Marca */
.brand{
  display: flex; align-items: center; gap: 10px;
  color: var(--text); text-decoration: none;
}
.brand:hover,
.brand:focus,
.brand:active{
  text-decoration: none; /* evita sublinhado no hover/click */
}
.brand__logo{
  width: 28px; height: 28px; border-radius: 8px;
  display: inline-block;
  box-shadow: 0 4px 10px rgba(92,92,204,.25);
}
.brand__logo svg{ width: 100%; height: 100%; display: block; border-radius: 8px; }
.brand__text strong{ display:block; font-size: 16px; line-height: 1; }
.brand__text small{ display:block; font-size: 11px; color: var(--muted); margin-top: 2px; }

/* Navegação */
.mainnav{
  display: flex; align-items: center; gap: 10px;
}
.mainnav a{
  padding: 8px 10px; border-radius: 8px;
  text-decoration: none; color: var(--text);
}
.mainnav a.active{
  background: var(--brand-100);
  box-shadow: 0 0 0 1px var(--brand-200) inset;
}
.header-cta{ margin-left: 6px; }

/* Hamburguer (mobile) */
.hamburger{
  display: none;
  width: 38px; height: 38px; border-radius: 10px;
  border: 1px solid var(--border); background: var(--surface);
  align-items: center; justify-content: center; cursor: pointer;
}
.hamburger span{
  width: 18px; height: 2px; background: var(--text); position: relative; display: block;
}
.hamburger span::before,
.hamburger span::after{
  content: ""; position: absolute; left: 0; right: 0; height: 2px; background: var(--text);
}
.hamburger span::before{ top: -6px; }
.hamburger span::after{ top: 6px; }

/* Mobile menu */
@media (max-width: 780px){
  .hamburger{ display: flex; }
  .app-header__inner{ position: relative; }
  .mainnav{
    position: absolute; left: 0; right: 0; top: 100%;
    background: var(--surface); border-bottom: 1px solid var(--border);
    padding: 8px 12px; display: none; flex-direction: column; gap: 6px;
  }
  .mainnav.is-open{ display: flex; }
  .header-cta{ width: 100%; text-align: center; }
}

/* Container padrão da app (se ainda não tiver) */
.container{
  max-width: 1100px;
  margin: 12px auto;
  padding: 0 12px;
}

/* =======================
   Layout com barra lateral esquerda
   ======================= */
.app-shell{
  display: grid;
  grid-template-columns: 260px 1fr;
  min-height: 100dvh;      /* deixa crescer além do viewport quando necessário */
}
.app-shell.is-collapsed{ grid-template-columns: 0 1fr; }
.sidebar{
  position: fixed; left: 0; top: var(--topbar-h); bottom: 0; z-index: 60;
  width: 260px; height: calc(100dvh - var(--topbar-h));
  overflow-y: auto;
  background: var(--surface-soft);
  border-right: 1px solid var(--border);
  display: flex; flex-direction: column;
  transform: translateX(0); transition: transform .18s ease;
}
.sidebar__inner{
  display: flex; flex-direction: column; gap: 12px; align-items: stretch;
  padding: 12px; height: 100%;
  justify-content: flex-start; /* agrupado, sem espaço exagerado */
}
.app-shell.is-collapsed .sidebar{ transform: translateX(-100%); }
.mainnav--vertical{ display: flex; flex-direction: column; gap: 8px; flex: 0 0 auto; align-items: stretch; }
.app-main{ background: var(--bg); min-width: 0; padding-top: var(--topbar-h); grid-column: 2; }

/* Toggle da sidebar */
.sidebar-toggle{
  position: fixed; top: 50%; left: 12px; z-index: 70;
  width: 36px; height: 36px; border-radius: 999px;
  border: 1px solid var(--border); background: var(--surface); cursor: pointer;
  display: grid; place-items: center; color: var(--muted);
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  transform: translateY(-50%);
}
.app-shell.sidebar-open .sidebar-toggle{ left: 268px; }
.sidebar-toggle__icon{ width: 18px; height: 18px; }

/* Overlay para mobile quando sidebar aberta */
.sidebar-overlay{ display: none; }

/* Bloco do perfil no topo da sidebar */
.profilebox{
  display:flex; align-items:center; gap:10px;
  border:1px solid var(--border); background:var(--surface); border-radius:12px;
  padding:10px;
}
.profilebox__icon{ color: var(--muted); }
.profilebox__name{ font-weight:600; font-size:14px; }
.profilebox__sub{ color: var(--muted); font-size:12px; display:none; }

/* Lista lateral de navegação */
.sidelist{ display:flex; flex-direction:column; gap:10px; }
.sidelist__item{
  display:flex; align-items:center; gap:10px;
  padding:8px 10px; border-radius:8px; border:0; background:transparent;
  color:inherit; text-decoration:none; cursor:pointer; text-align:left;
  width: 100%;
}
.sidelist__section{ display:flex; flex-direction:column; gap:4px; }
.sidelist__heading{ font-size:11px; text-transform:uppercase; letter-spacing:.04em; color:var(--muted); padding:2px 6px; }
.sidelist__item:hover{ background: var(--hover); }
.sidelist__item.active{ background: var(--brand-100); box-shadow:0 0 0 1px var(--brand-200) inset; }
.sidelist__item--danger{ color:#b91c1c; }
.sidelist__icon{ width:18px; text-align:center; color: var(--muted); }

/* Em telas pequenas, a sidebar vira topo (stack) */
@media (max-width: 780px){
  .app-shell{ grid-template-columns: 1fr; }
  /* Garante que todos os filhos da grid ocupem a mesma coluna, evitando criação de colunas implícitas */
  .app-shell > .sidebar,
  .app-shell > .sidebar-toggle,
  .app-shell > .sidebar-overlay,
  .app-shell > .app-main{ grid-column: 1 / -1; }
  .sidebar{
    position: fixed; left: 0; top: auto; bottom: 0; z-index: 60;
    width: 100%; height: 64px; border-right: 0; border-top: 1px solid var(--border);
  }
  .app-shell.sidebar-open .sidebar-overlay{
    display: block; position: fixed; inset: 0; z-index: 55; background: rgba(0,0,0,.25);
  }
  .sidebar-toggle{ left: 12px; top: 50%; transform: translateY(-50%); }
  .app-shell.sidebar-open .sidebar-toggle{ left: 268px; } /* junto da borda da sidebar */
  .app-main{ min-height: 100dvh; }
  /* Sidebar: garantir navegação no topo */
  .sidebar__inner{ display:flex; flex-direction: column; justify-content: flex-start; align-items: stretch; padding: 12px; height: 100dvh; overflow-y:auto; }
  .brand{ display:flex; align-items:center; gap:10px; flex: 0 0 auto; }
  .mainnav--vertical{ display:flex; flex-direction: column; gap: 8px; margin-top: 8px; flex: 0 0 auto; }
  .profilebox{ margin: 10px 0; min-height: 56px; flex: 0 0 auto; }
  .sidelist{ display:flex; flex-direction: column; gap:10px; flex: 0 0 auto; }
  /* Topbar compacto e em linha */
  .app-topbar__inner{ flex-direction: row; align-items: baseline; gap: 8px; }
}

/* Topbar simples no conteúdo */
.app-topbar{
  position: fixed; left: 0; right: 0; top: 0; z-index: 70; /* fixada no topo da viewport */
  height: var(--topbar-h);
  display: flex; align-items: center;
  background: var(--topbar-bg);
  backdrop-filter: saturate(160%) blur(8px);
  border-bottom: 1px solid var(--topbar-border);
  box-shadow: var(--topbar-shadow);
}
.app-topbar__inner{
  max-width: 1100px; margin: 0 auto; padding: 0 12px;
  display: flex; flex-direction: row; align-items: center; justify-content: space-between;
  height: 100%; line-height: 1.1;
}
/* Desktop: brand encostada no canto esquerdo da topbar */
@media (min-width: 781px){
  .app-topbar__inner{ max-width: none; margin: 0; padding-left: 12px; padding-right: 12px; }
}
.app-topbar__inner strong{ font-size: 16px; }
.app-topbar__inner small{ font-size: 11px; color: var(--muted); }

.app-topbar__actions{ display:flex; align-items:center; gap:8px; }
.theme-toggle{ display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border:0; border-radius:999px; background:transparent; color:var(--text); cursor:pointer; transition:background .18s ease, color .18s ease, box-shadow .18s ease; padding:0; }
.theme-toggle svg{ width:20px; height:20px; }
.theme-toggle:hover, .theme-toggle:focus-visible{ background:var(--surface-soft); color:var(--brand); outline:none; box-shadow:0 0 0 1px var(--border); }
.theme-toggle:active{ background:var(--surface-soft); filter:brightness(.95); }

@media (max-width: 780px){
  .app-topbar__inner{ padding: 10px 16px; flex-direction: row; align-items: center; justify-content: space-between; }
  .container{ margin-top: 8px; }
}

/* Dashboard: estilos compactos para tabelas, badges e botões */
.table--dense thead th{ font-size: 11px; padding: 6px   8px; }
.table--dense tbody td{ font-size: 13px; padding: 8px 10px; }
.dashboard-narrow .badge{ font-size: 10px; padding: 2px 6px; }
.dashboard-narrow .btn{ height: 34px; padding: 0 10px; font-size: 12px; }
/* Aplicar compactação direto às tabelas do dashboard */
.dashboard-narrow .card{ padding: 8px; }
.dashboard-narrow .card > table thead th{ font-size: 10px; padding: 3px 4px; }
.dashboard-narrow .card > table tbody td{ font-size: 12px; padding: 3px 4px; }
.dashboard-narrow .card > table tbody td .small{ font-size: 10px; line-height: 1.05; }
.dashboard-narrow .name-short{ max-width: 12ch; }
.dashboard-narrow .card > table td:nth-child(1){ white-space: normal; word-break: break-word; }
/* Aperta ainda mais o status */
.dashboard-narrow .badge{ font-size: 10px; padding: 2px 5px; }

/* Botão de cancelar do dashboard com o mesmo porte do badge */
.dashboard-narrow .btn.btn--danger.btn--sm.danger{
  font-size: 10px;
  padding: 2px 6px;
  height: auto;
  line-height: 1;
  border-radius: 999px;
}

/* Dashboard: controle explícito de largura das colunas */
.dashboard-narrow .card > table{ table-layout: fixed; }
/* Coluna 1 (Agendamento) — largura fixa em caracteres para evitar sobra */
.dashboard-narrow .card > table th:nth-child(1),
.dashboard-narrow .card > table td:nth-child(1){ width: 20ch; max-width: 20ch; }
/* Coluna 2 (Início) — cabe o formato "dd/mm, hh:mm" */
.dashboard-narrow .card > table th:nth-child(2),
.dashboard-narrow .card > table td:nth-child(2){ width: 9ch; white-space: nowrap; }
/* Coluna 3 (Status) */
.dashboard-narrow .card > table th:nth-child(3),
.dashboard-narrow .card > table td:nth-child(3){ width: 8ch; white-space: nowrap; }
/* Coluna 4 (Ações) */
.dashboard-narrow .card > table th:last-child,
.dashboard-narrow .card > table td:last-child{ width: 1%; white-space: nowrap; }

/* Desktop: tabelas de dashboard com tamanho padrão (fontes maiores e layout auto) */
@media (min-width: 781px){
  .dashboard-narrow .card{ padding: 12px; }
  .dashboard-narrow .card > table{ table-layout: auto; }
  .dashboard-narrow .card > table thead th{ font-size: 12px; padding: 10px 12px; }
  .dashboard-narrow .card > table tbody td{ font-size: 14px; padding: 10px 12px; }
  .dashboard-narrow .card > table th:nth-child(1),
  .dashboard-narrow .card > table td:nth-child(1){ width: auto; max-width: none; }
  .dashboard-narrow .card > table th:nth-child(2),
  .dashboard-narrow .card > table td:nth-child(2){ width: auto; white-space: nowrap; }
  .dashboard-narrow .card > table th:nth-child(3),
  .dashboard-narrow .card > table td:nth-child(3){ width: auto; white-space: nowrap; }
  .dashboard-narrow .card > table th:last-child,
  .dashboard-narrow .card > table td:last-child{ width: 1%; white-space: nowrap; }
  .dashboard-narrow .name-short{ max-width: 18ch; }
}
/* =======================
   Mobile: barra inferior (somente ícones)
   ======================= */
@media (max-width: 780px){
  /* Evita overflow horizontal no mobile */
  html, body, #root{ width: 100%; max-width: 100%; overflow-x: hidden; }
  .app-shell, .app-main, .container, .app-topbar, .app-topbar__inner, .app-header, .app-header__inner, .dashboard-narrow{
    width: 100%; max-width: 100%; overflow-x: hidden;
  }
  .app-shell, .app-main, .container{ min-width: 0; }
  .dashboard-narrow{ 
    min-width: 0; 
    /* Centraliza os elementos no mobile e evita corte */
    display: grid;               /* permite justify-items */
    justify-items: center;       /* centraliza filhos horizontalmente */
    align-content: start;
    gap: 10px;                   /* respiro entre blocos */
  }
  /* Garante que blocos internos ocupem a largura disponível sem cortar */
  .dashboard-narrow > *{ width: 100%; max-width: 100%; margin-left: auto; margin-right: auto; }
  .dashboard-narrow .row,
  .dashboard-narrow .grid,
  .dashboard-narrow .header,
  .dashboard-narrow .auth-actions{ justify-content: center; }
  /* Imagens e mídias não estouram o container */
  .dashboard-narrow img, .dashboard-narrow svg, .dashboard-narrow canvas{ max-width: 100%; height: auto; }

  /* Dashboard: força tabela a se adaptar/rolar no mobile e remove larguras fixas */
  .dashboard-narrow .card{ overflow-x: auto; -webkit-overflow-scrolling: touch; }
  .dashboard-narrow .card > table{ table-layout: auto; min-width: 520px; width: max-content; }
  .dashboard-narrow .card > table thead th{ white-space: nowrap; }
  .dashboard-narrow .card > table th:nth-child(1),
  .dashboard-narrow .card > table td:nth-child(1){ width: auto; max-width: none; }
  .dashboard-narrow .card > table th:nth-child(2),
  .dashboard-narrow .card > table td:nth-child(2){ width: auto; white-space: nowrap; }
  .dashboard-narrow .card > table th:nth-child(3),
  .dashboard-narrow .card > table td:nth-child(3){ width: auto; white-space: nowrap; }
  .dashboard-narrow .card > table th:last-child,
  .dashboard-narrow .card > table td:last-child{ width: auto; white-space: nowrap; }

  /* Linhas spread: compactas e com quebra */
  .row.spread{
    font-size: 13px;
    flex-wrap: wrap;
    gap: 6px 8px;
    align-items: center;
    justify-content: center;
    text-align: center;
    overflow-wrap: anywhere;
    word-break: break-word;
  }
  .row.spread > *{ min-width: 0; }
  .row.spread .btn{ height: 36px; padding: 0 10px; font-size: 12px; }
  .row.spread .input,
  .row.spread select{ height: 36px; padding: 0 10px; font-size: 13px; }

  /* Dashboard: linhas com spread mais compactas e responsivas */
  .row.spread{
    font-size: 13px;
    flex-wrap: wrap;                 /* permite quebrar para a próxima linha */
    gap: 6px 8px;                    /* gaps menores */
    align-items: center;             /* alinha melhor ícones/inputs */
    justify-content: center;         /* centraliza quando quebrar */
    text-align: center;              /* centraliza textos */
    overflow-wrap: anywhere;         /* evita corte de strings longas */
    word-break: break-word;
  }
  .row.spread > *{ min-width: 0; }
  /* Botões e inputs mais enxutos dentro de linhas spread */
  .row.spread .btn{ height: 36px; padding: 0 10px; font-size: 12px; }
  .row.spread .input,
  .row.spread select{ height: 36px; padding: 0 10px; font-size: 13px; }

  /* Sidebar vira uma barra fixa no rodapé */
  .sidebar{
    position: fixed; left: 0; right: 0; bottom: 0; top: auto;
    width: 100%; height: 64px;
    border-right: 0; border-top: 1px solid var(--border);
    background: var(--surface); z-index: 60;
    transform: none; overflow: visible;
  }
  /* Garante que a navegação da sidebar apareça no mobile (sobrepõe regras do header) */
  .sidebar .mainnav{
    display: flex !important;
    position: static;
    left: auto; right: auto; top: auto;
    background: transparent; border: 0; padding: 0;
    gap: 8px;
  }
  /* Organiza conteúdo horizontalmente */
  .sidebar__inner{
    height: 100%; padding: 6px 10px;
    display: flex; flex-direction: row; align-items: center; justify-content: space-around;
    gap: 0; overflow: visible; /* evita clipar ícones */
  }
  /* Esconde elementos não essenciais SOMENTE na barra inferior (sidebar no mobile) */
  .sidebar .brand,
  .sidebar .profilebox,
  .sidebar .sidelist__heading{ display: none !important; }
  /* Navegação vira horizontal */
  .mainnav--vertical{ flex-direction: row; align-items: center; width: 100%; }
  .sidelist{ flex-direction: row; gap: 8px; align-items: center; width: 100%; justify-content: space-around; }
  .sidelist__section{ display: flex; flex-direction: row; gap: 8px; }
  .sidelist__item{
    width: auto; padding: 6px; border-radius: 10px;
    display: inline-flex; flex-direction: column; align-items: center; justify-content: center;
    gap: 2px;
    min-width: 44px; min-height: 44px; /* alvo de toque acessível */
    color: var(--text) !important;
    text-align: center;
  }
  /* Ícone acima, rótulo abaixo — compacto */
  .sidelist__item > span{ display: block; font-size: 10px; line-height: 1; opacity: .9; max-width: 72px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .sidelist__icon{ width: 24px; height: 24px; display: block; color: var(--text); flex-shrink: 0; stroke: currentColor; stroke-width: 2.2; margin: 0 auto; }
  .sidelist__item svg{ display: block; }
  /* Esconde controles do drawer no mobile */
  .sidebar-toggle,
  .sidebar-overlay{ display: none !important; }
  /* Garante que a barra inferior não suma com .is-collapsed */
  .app-shell.is-collapsed .sidebar{ transform: none; }
  /* Reserva espaço para a barra não cobrir o conteúdo */
  .app-main{ padding-bottom: 72px; }

  /* Aumenta fonte no mobile para legibilidade */
  html, body{ font-size: 16px; }
  .dashboard-narrow{ font-size: 16px; }
  .dashboard-narrow .card > table thead th{ font-size: 12px; padding: 6px 8px; }
  .dashboard-narrow .card > table tbody td{ font-size: 14px; padding: 6px 8px; }
  .dashboard-narrow .card > table tbody td .small{ font-size: 12px; }
  .dashboard-narrow .badge{ font-size: 11px; padding: 3px 8px; }
  .dashboard-narrow .btn{ height: 38px; padding: 0 12px; font-size: 13px; }
}

/* Utilitários de visibilidade por breakpoint */
.only-mobile{ display: none !important; }
.only-desktop{ display: inline-flex !important; }
@media (max-width: 420px){
  .only-mobile{ display: inline-flex !important; }
  .only-desktop{ display: none !important; }
}

/* Mobile estreito: esconder coluna de Ações (última coluna) */
@media (max-width: 420px){
  .dashboard-narrow .card > table th:last-child,
  .dashboard-narrow .card > table td:last-child{
    display: none;
  }
  /* Ajusta a largura mínima da tabela quando a coluna some */
  .dashboard-narrow .card > table{
    min-width: 360px;
    width: 100%;
  }
}
  /* Telas muito estreitas: empilha os itens do spread verticalmente */
  @media (max-width: 560px){
    .dashboard-narrow .row.spread{
      flex-direction: column;
      align-items: stretch;
      justify-content: center;
    }
    .dashboard-narrow .row.spread > *{
      flex: 1 1 100%;
      max-width: 100%;
    }
  }
