/* =======================
   Design Tokens / Tema
   ======================= */
:root {
  --bg: #0b0f14;
  --card: #121820;
  --card-2: #0f141b;
  --border: #223041;
  --text: #e6eef8;
  --muted: #9fb0c2;
  --primary: #3b82f6;
  --primary-600: #2563eb;
  --ok: #22c55e;
  --ok-600: #16a34a;
  --warn: #f59e0b;
  --danger: #ef4444;
  --danger-700: #b91c1c;
  --busy: #f87171;
  --blocked-bg: #3b2a06;
  --blocked-fg: #ffd58a;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius: 16px;
  --radius-sm: 10px;
  --radius-xl: 22px;
  --ring: 0 0 0 3px rgba(59,130,246,.35);
  --transition: .18s cubic-bezier(.2,.8,.2,1);
  --shadow-soft: 0 6px 18px rgba(0,0,0,.25);
}

* { box-sizing: border-box; }

body {
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* =======================
   Layout utilitários
   ======================= */
.grid { display: grid; gap: 16px; }
.row { display: flex; gap: 10px; align-items: center; }
.spread { justify-content: space-between; }

.card {
  background: linear-gradient(180deg, var(--card), var(--card-2));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px;
}

/* =======================
   Tipografia / estados
   ======================= */
.muted { color: var(--muted); }
.small { font-size: .875rem; opacity: .9; }
.empty { color: var(--muted); padding: 12px; border: 1px dashed var(--border); border-radius: var(--radius-sm); text-align: center; }

/* Caixas informativas */
.box {
  border: 1px solid var(--border);
  background: rgba(255,255,255,.02);
  border-radius: var(--radius);
  padding: 12px 14px;
}

/* =======================
   Inputs / Selects
   ======================= */
.label { display: flex; flex-direction: column; gap: 6px; }
.input, .label select, .label input[type="date"] {
  height: 40px;
  background: #0c1219;
  border: 1px solid var(--border);
  border-radius: 12px;
  color: var(--text);
  padding: 0 12px;
  outline: none;
  transition: border var(--transition), box-shadow var(--transition);
}
.input:focus, .label select:focus, .label input[type="date"]:focus { border-color: var(--primary); box-shadow: var(--ring); }

/* Switch (toggle) */
.switch { display: inline-flex; align-items: center; gap: 8px; cursor: pointer; user-select: none; }
.switch input { appearance: none; width: 44px; height: 24px; background: #1b2633; border: 1px solid var(--border); border-radius: 999px; position: relative; outline: none; transition: all var(--transition); }
.switch input::after { content: ""; position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; background: #fff; border-radius: 50%; transition: all var(--transition); }
.switch input:checked { background: rgba(34,197,94,.25); border-color: #1f8f52; }
.switch input:checked::after { transform: translateX(20px); background: #a7f3d0; }
.switch span { color: var(--text); opacity: .9; }

/* =======================
   Botões
   ======================= */
.btn {
  height: 40px; padding: 0 14px; border-radius: 12px; border: 1px solid var(--border);
  background: #0c1219; color: var(--text); cursor: pointer; transition: all var(--transition);
}
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-soft); }
.btn:focus-visible { outline: none; box-shadow: var(--ring); }
.btn:disabled { opacity: .55; cursor: not-allowed; transform: none; box-shadow: none; }

.btn--primary {
  background: linear-gradient(180deg, var(--primary), var(--primary-600));
  border-color: rgba(255,255,255,.08);
}
.btn--primary:hover { filter: brightness(1.05); }
.btn--outline {
  background: transparent; border-color: var(--primary); color: var(--text);
}
.btn--sm { height: 34px; padding: 0 10px; font-size: .9rem; }

/* =======================
   Toast
   ======================= */
.toast {
  position: fixed; right: 16px; bottom: 16px; z-index: 50;
  padding: 12px 14px; border-radius: 12px; color: #061018; font-weight: 600;
  box-shadow: var(--shadow);
  animation: toast-in .18s ease-out;
}
.toast.success { background: #86efac; }
.toast.error { background: #fecaca; }
.toast.info { background: #bfdbfe; color: #0b1b2e; }
@keyframes toast-in { from { transform: translateY(8px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* =======================
   Spinner
   ======================= */
.spinner {
  width: 18px; height: 18px; border: 2px solid rgba(255,255,255,.35);
  border-top-color: #fff; border-radius: 50%; display: inline-block;
  animation: spin .8s linear infinite; vertical-align: middle;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* =======================
   Modal
   ======================= */
.modal-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,.55);
  display: grid; place-items: center; z-index: 60; animation: fade-in .12s ease-out;
}
.modal {
  background: var(--card); border: 1px solid var(--border); border-radius: var(--radius);
  width: min(560px, 92vw); padding: 16px; box-shadow: var(--shadow);
}
@keyframes fade-in { from { opacity: 0 } to { opacity: 1 } }

/* =======================
   Badges / Legenda
   ======================= */
.badge {
  border: 1px solid var(--border); color: var(--text); border-radius: 999px;
  padding: 4px 10px; font-size: .85rem; background: #0c1219;
}
.badge.ok { background: rgba(34,197,94,.15); border-color: #14532d; color: #a7f3d0; }
.badge.out { background: rgba(248,113,113,.15); border-color: #7f1d1d; color: #fecaca; }

/* =======================
   Calendário semanal
   ======================= */
.week-grid { display: grid; gap: 8px; }
.week-grid__head, .week-grid__row {
  display: grid; gap: 8px;
  grid-template-columns: repeat(7, minmax(0, 1fr));
}
.week-col {
  background: #0c1219; border: 1px solid var(--border); border-radius: var(--radius-sm);
  padding: 8px; min-height: 90px;
}
.week-col__title {
  color: var(--muted); font-weight: 600; text-transform: capitalize; margin-bottom: 6px;
}
.week-col.is-today { outline: 2px dashed rgba(59,130,246,.35); outline-offset: 3px; }

/* Botão de slot */
.slot-btn {
  width: 100%; margin-bottom: 6px; height: 36px; border-radius: 10px; font-weight: 700;
  background: #0c1219; border: 1px solid var(--border); color: var(--text);
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition), border var(--transition);
}
.slot-btn.ok { border-color: #14532d; background: rgba(16,185,129,.12); color: #d1fae5; }
.slot-btn.ok:hover { transform: translateY(-1px); box-shadow: var(--shadow-soft); }
.slot-btn.busy { background: rgba(248,113,113,.08); color: #fecaca; border-color: #7f1d1d; }
.slot-btn.block { background: var(--blocked-bg); color: var(--blocked-fg); border-color: #5b4513; }
.slot-btn.is-selected { outline: 3px solid rgba(34,197,94,.35); }

.slot-btn:disabled { opacity: .55; cursor: not-allowed; transform: none; }

/* =======================
   Skeleton (shimmer)
   ======================= */
.day-skeleton { display: grid; gap: 6px; }
.shimmer {
  position: relative; overflow: hidden; background: #0d1219; border: 1px solid var(--border);
  border-radius: 10px; height: 32px;
}
.pill { border-radius: 999px; }
.shimmer::after {
  content: ""; position: absolute; inset: 0; transform: translateX(-100%);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  animation: shimmer 1.1s infinite;
}
@keyframes shimmer { 100% { transform: translateX(100%); } }

/* =======================
   Tabela (se precisar)
   ======================= */
table { width: 100%; border-collapse: collapse; }
th, td { padding: 10px; border-bottom: 1px solid var(--border); }
thead th { text-align: left; color: var(--muted); font-weight: 600; }

/* =======================
   Acessibilidade / Foco
   ======================= */
button:focus-visible, a:focus-visible, select:focus-visible, input:focus-visible { outline: none; box-shadow: var(--ring); }

/* =======================
   Responsividade
   ======================= */
/* Em telas menores, troca para scroll horizontal dos dias */
@media (max-width: 920px) {
  .week-grid__head, .week-grid__row { grid-template-columns: repeat(7, 220px); overflow-x: auto; padding-bottom: 4px; }
  .week-col { min-width: 220px; }
}
@media (max-width: 520px) {
  .btn--sm { height: 32px; padding: 0 8px; }
  .label { width: 100%; }
  .row { flex-wrap: wrap; }
}

/* Links padrão */
a, a:visited { color: var(--text); text-decoration: none; opacity: .9; }
a:hover { opacity: 1; text-decoration: underline; }

/* Header / Nav simples */
.header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 0; margin-bottom: 10px;
}
.nav { display: flex; gap: 16px; align-items: center; }
.nav a { padding: 6px 8px; border-radius: 8px; }
.nav a.active { background: rgba(59,130,246,.15); border: 1px solid var(--primary); }
.nav .logout { margin-left: 8px; }


/* Dá um visual básico aos botões que não tiverem .btn (ex.: em modais) */
.modal button:not(.btn) {
  height: 40px; padding: 0 14px; border-radius: 12px;
  border: 1px solid var(--border); background: #0c1219; color: var(--text);
}

a, a:visited { color: var(--text); text-decoration: none; opacity: .9; }
a:hover { opacity: 1; text-decoration: underline; }

.btn{height:40px;padding:0 14px;border-radius:12px;border:1px solid var(--border);background:#0c1219;color:var(--text);cursor:pointer;transition:all .18s cubic-bezier(.2,.8,.2,1)}
.btn:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(0,0,0,.25)}
.btn--primary{background:linear-gradient(180deg,var(--primary),var(--primary-600));border-color:rgba(255,255,255,.08)}
.btn--outline{background:transparent;border-color:var(--primary)}
.btn--sm{height:34px;padding:0 10px;font-size:.9rem}

.card{background:linear-gradient(180deg,var(--card),var(--card-2));border:1px solid var(--border);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.35);padding:16px}
.badge{border:1px solid var(--border);border-radius:999px;padding:4px 10px;font-size:.85rem;background:#0c1219}
.badge.ok{background:rgba(34,197,94,.15);border-color:#14532d;color:#a7f3d0}
.badge.out{background:rgba(248,113,113,.15);border-color:#7f1d1d;color:#fecaca}

/* Página NovoAgendamento */
/* ====== Tema claro (tons de cinza suave) ====== */
:root{
  --bg:#f9fafb;            /* fundo geral cinza bem claro */
  --card-bg:#ffffff;       /* cartões brancos */
  --border:#e8e8ec;        /* borda suave */
  --text:#1f2937;          /* cinza-escuro legível */
  --muted:#6b7280;         /* texto secundário */
  --brand:#2563eb;         /* primária (azul suave) */
  --brand-100:#eef2ff;
  --brand-200:#c7d2fe;
  --hover:#f3f4f6;
}

body{ background:var(--bg); color:var(--text); }

/* ====== Layout util ====== */
.grid{ display:flex; flex-direction:column; }
.row{ display:flex; align-items:center; }
.row-wrap{ display:flex; flex-wrap:wrap; gap:8px; }
.spread{ justify-content:space-between; }
.muted{ color:var(--muted); }
.small{ font-size:12px; }
.card{ background:var(--card-bg); border:1px solid var(--border); border-radius:12px; padding:12px; }

/* ====== Inputs / Buttons ====== */
.label>span{ font-size:12px; color:var(--muted); display:block; margin-bottom:4px; }
.input{ border:1px solid var(--border); border-radius:10px; padding:8px 10px; background:#fff; }
.switch input{ display:none; }
.switch input + span{ position:relative; padding-left:28px; cursor:pointer; font-size:14px; }
.switch input + span:before{ content:""; width:22px;height:14px;border-radius:999px;background:#e5e7eb; position:absolute; left:0; top:2px; }
.switch input + span:after{ content:""; width:12px;height:12px;border-radius:50%; background:#fff; box-shadow:0 0 0 1px #d1d5db; position:absolute; left:1px; top:3px; transition:transform .15s; }
.switch input:checked + span:before{ background:#c7d2fe; }
.switch input:checked + span:after{ transform:translateX(8px); }

.btn{ border:1px solid var(--border); background:#fff; color:var(--text); border-radius:10px; padding:8px 12px; cursor:pointer; }
.btn--primary{ background:var(--brand); color:#fff; border-color:var(--brand); }
.btn--outline{ background:#fff; }
.btn--sm{ padding:6px 10px; font-size:12px; }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

.segmented{ display:inline-flex; background:#f3f4f6; border-radius:10px; padding:2px; }
.segmented__btn{ border:0; background:transparent; padding:6px 10px; border-radius:8px; font-size:12px; }
.segmented__btn.is-active{ background:#fff; box-shadow:0 0 0 1px var(--border); }

.chip{ border:1px solid var(--border); background:#fff; padding:4px 8px; border-radius:999px; font-size:12px; }
.chip--active{ background:var(--brand-100); border-color:var(--brand-200); }

/* ====== Mini cards (Estabelecimentos/Serviços) ====== */
.mini-card{ min-width:220px; max-width:320px; flex:1 1 220px; border:1px solid var(--border); border-radius:12px; padding:10px; background:#fff; cursor:pointer; }
.mini-card:hover{ background:var(--hover); }
.mini-card--selected{ outline:2px solid var(--brand); }
.mini-card__title{ font-weight:600; font-size:14px; margin-bottom:4px; }
.mini-card__meta{ display:flex; gap:8px; color:var(--muted); font-size:12px; }

/* ====== Toast ====== */
.toast{ position:fixed; right:12px; bottom:12px; background:#fff; border:1px solid var(--border); border-radius:10px; padding:10px 12px; box-shadow:0 6px 20px rgba(0,0,0,.06); z-index:50; }
.toast .toast-icon{ margin-right:8px; }
.toast .toast-close{ border:0; background:transparent; font-size:18px; cursor:pointer; margin-left:8px; }

/* ====== Modal ====== */
.modal-backdrop{ position:fixed; inset:0; background:rgba(17,24,39,.35); display:flex; align-items:center; justify-content:center; z-index:60; }
.modal{ background:#fff; border-radius:12px; border:1px solid var(--border); padding:16px; width:min(560px,95vw); }

/* ====== Sumário sticky ====== */
.sticky-bar{ position:sticky; top:8px; z-index:2; display:flex; gap:12px; align-items:center; margin-top:8px; }
.box{ border:1px solid var(--border); border-radius:10px; padding:8px; background:#fff; }
.box--highlight{ background:#fcfcff; border-color:#e9edff; }

/* ====== Calendário (novo) ======
   - Desktop: grid com 7 colunas
   - Mobile: carrossel horizontal com snap; cabeçalho do dia está dentro da coluna
*/
.calendar{ margin-top:8px; }
.calendar__inner{
  display:grid; grid-template-columns:repeat(7, minmax(160px, 1fr)); gap:8px;
}
@media (max-width: 900px){
  .calendar__inner{
    display:flex; gap:8px; overflow-x:auto; padding-bottom:4px;
    scroll-snap-type:x mandatory;
  }
  .calendar__inner > .day-col{ min-width: 68%; scroll-snap-align:start; }
}
@media (max-width: 600px){
  .calendar__inner > .day-col{ min-width: 86%; }
}

.day-col{ background:transparent; border-radius:10px; border:1px solid var(--border); }
.day-col__header{ padding:6px 8px; border-bottom:1px solid var(--border); background:#fff; border-top-left-radius:10px; border-top-right-radius:10px; }
.day-col__header.is-today{ background:#f8fbff; outline:1px solid #dbeafe; }
.day-col__title{ font-size:13px; font-weight:600; }

.day-col__slots{ padding:8px; }

/* Slots compactos em grid (pouca rolagem vertical) */
.slots--grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(56px, 1fr)); gap:6px; align-content:start; }
.slots--list{ display:flex; flex-direction:column; gap:8px; }

/* Botões de slot */
.slot-btn{
  border:1px solid var(--border);
  background:#fff; color:var(--text);
  border-radius:8px; cursor:pointer;
  transition:transform .06s ease, box-shadow .06s ease, background .1s ease;
}
.slot-btn--compact{ padding:4px 6px; font-size:12px; line-height:1.1; }
.slot-btn--comfortable{ padding:8px 10px; font-size:14px; }
.slot-btn.busy{ background:#f3f4f6; color:#888; border-style:dashed; }
.slot-btn.block{ background:#f8f8f8; color:#aaa; border-style:dotted; }
.slot-btn.is-selected{ outline:2px solid var(--brand); outline-offset:0; }
.slot-btn.is-past{ opacity:.5; }
.slot-btn:not(:disabled):hover{ transform:translateY(-1px); }

/* Placeholder mínimo */
.empty-dot{
  width:8px;height:8px;border-radius:50%; background:#e5e7eb; margin:6px auto;
}

/* Mensagens */
.error{ background:#fff5f5; border-color:#ffe1e1; }

/* Skeleton simples */
.shimmer.pill{ height:22px; border-radius:999px; background:linear-gradient(90deg,#eee,#f6f6f6,#eee); background-size:200% 100%; animation:shimmer 1.1s infinite; }
@keyframes shimmer{ 0%{background-position:-200px 0} 100%{background-position:200px 0} }
